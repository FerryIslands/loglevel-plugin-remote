!function(t,e){if("function"==typeof define&&define.amd)define(["module","exports"],e);else if("undefined"!=typeof exports)e(module,exports);else{var r={exports:{}};e(r,r.exports),t.remote=r.exports}}(this,function(t,e){"use strict";function r(t){try{return JSON.stringify(t)}catch(t){if(!n)try{var e={};e.a=e,JSON.stringify(e)}catch(t){n=t.message}if("TypeError"===t.name&&t.message===n)return"[Circular]";throw t}}function o(t){if(!Object.getOwnPropertyDescriptor||!Object.getPrototypeOf)return Object.prototype.toString.call(t).slice(8,-1);for(;t;){var e=Object.getOwnPropertyDescriptor(t,"constructor");if(void 0!==e&&"function"==typeof e.value&&""!==e.value.name)return e.value.name;t=Object.getPrototypeOf(t)}return""}Object.defineProperty(e,"__esModule",{value:!0});var n=void 0,i=function(t){var e="",n=0;return t.length>1&&"string"==typeof t[0]&&(e=(e=t[0].replace(/(%?)(%([sdjo]))/g,function(e,i,a,u){if(!i){var c=t[n+=1],s="";switch(u){case"s":s+=c;break;case"d":s+=+c;break;case"j":s=r(c);break;case"o":var l=r(c);"{"!==l[0]&&"["!==l[0]&&(l="<"+l+">"),s=o(c)+l}return s}return e})).replace(/%{2,2}/g,"%"),n+=1),t.length>n&&(e&&(e+=" "),e+=t.slice(n).join(" ")),e},a=function(t){for(var e=1;e<arguments.length;e+=1)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t},u=function(){try{throw new Error("")}catch(t){return t.stack}},c=!!u(),s=[],l=!1,f=!1,p="";window&&window.location&&(p=window.location.origin||""),!p&&document&&document.location&&(p=document.location.origin||"");var d={url:p+"/logger",call:!0,timeout:0,trace:["trace","warn","error"],clear:1,authorization:"",timestampFormatter:function(){return(new Date).toString()}},m=function(t,e){if(!t||!t.getLogger)throw new TypeError("Argument is not a root loglevel object");if(l)throw new TypeError("You can assign a plugin only one time");if(!window||!window.XMLHttpRequest)return t;l=!0;var o="ontimeout"in new window.XMLHttpRequest;e=a({},d,e);for(var n={},p=0;p<e.trace.length;p+=1){var m=e.trace[p];n[m]=!0}var w=function(t,o,n,a,u){if(o){var c=o.split("\n");c.splice(0,e.clear+2),o="\n"+c.join("\n")}s.push(r({timestamp:e.timestampFormatter(new Date),level:n,logger:u,log:""+i(t),args:t,stacktrace:o}))},g=function t(){if(s.length&&!f){f=!0;var r=s.shift(),n=void 0,i=new window.XMLHttpRequest;i.open("POST",e.url+"?r="+Math.random(),!0),i.setRequestHeader("Content-Type","text/plain"),e.authorization&&i.setRequestHeader("Authorization",e.authorization);var a=function(){i.abort(),s.unshift(r),f=!1,setTimeout(t,0)};i.onreadystatechange=function(){4===i.readyState&&(200!==i.status&&s.unshift(r),f=!1,n&&clearTimeout(n),setTimeout(t,0))},o&&(i.timeout=e.timeout,i.ontimeout=a),i.send(r),!o&&e.timeout&&(n=setTimeout(a,e.timeout))}},v=t.methodFactory;return t.methodFactory=function(t,r,o){var i=v(t,r,o);return function(){for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];var l=c&&t in n?u():"";w(a,l,t,0,o),g(),e.call&&i.apply(void 0,a)}},t.setLevel(t.getLevel()),t},remote={};remote.apply=m,remote.name="loglevel-plugin-remote";var w=window?window.remote:void 0;remote.noConflict=function(){return window&&window.remote===remote&&(window.remote=w),remote},e.default=remote,t.exports=e.default});